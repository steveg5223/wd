{"ast":null,"code":"var _jsxFileName = \"/Library/WebServer/Documents/wd/src/CollectionWrapper.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Collection from './Collection';\nimport WatchDetails from './WatchDetails';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CollectionWrapper(props) {\n  _s();\n\n  const initialWatchList = {\n    watchList: []\n  };\n  const initialWatchDetails = {\n    photos: [],\n    observations: []\n  };\n  const {\n    setDateWorn,\n    requestedWatchId,\n    setRequestedWatchId\n  } = props;\n  const [watchList, setWatchList] = useState(initialWatchList);\n  const [activeWatchDetails, setActiveWatchDetails] = useState(initialWatchDetails);\n  useEffect(() => {\n    const url = `/collection/phpsrc/getCollection.php`;\n\n    if (requestedWatchId === null) {\n      fetch(url).then(response => {\n        return response.json();\n      }).then(data => {\n        setWatchList(data);\n        setActiveWatchDetails({\n          photos: [],\n          observations: []\n        });\n      });\n    }\n  }, [requestedWatchId, setDateWorn]);\n  useEffect(() => {\n    const url = `/collection/phpsrc/getWatchDetails.php?watchId=${requestedWatchId}`;\n\n    if (requestedWatchId !== null) {\n      fetch(url).then(response => {\n        return response.json();\n      }).then(data => {\n        setActiveWatchDetails(data);\n      });\n    }\n  }, [requestedWatchId, setDateWorn]);\n  return requestedWatchId === null ? /*#__PURE__*/_jsxDEV(Collection, {\n    response: watchList,\n    setDateWorn: setDateWorn,\n    setRequestedWatchId: setRequestedWatchId\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this) : /*#__PURE__*/_jsxDEV(WatchDetails, {\n    response: activeWatchDetails,\n    setDateWorn: setDateWorn,\n    setRequestedWatchId: setRequestedWatchId\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CollectionWrapper, \"MJI64fMe7ZMgMv12aUiF0IBQNv4=\");\n\n_c = CollectionWrapper;\n\nvar _c;\n\n$RefreshReg$(_c, \"CollectionWrapper\");","map":{"version":3,"sources":["/Library/WebServer/Documents/wd/src/CollectionWrapper.js"],"names":["React","useState","useEffect","Collection","WatchDetails","CollectionWrapper","props","initialWatchList","watchList","initialWatchDetails","photos","observations","setDateWorn","requestedWatchId","setRequestedWatchId","setWatchList","activeWatchDetails","setActiveWatchDetails","url","fetch","then","response","json","data"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;;AAEA,eAAe,SAASC,iBAAT,CAA2BC,KAA3B,EAAkC;AAAA;;AAC7C,QAAMC,gBAAgB,GAAG;AAACC,IAAAA,SAAS,EAAE;AAAZ,GAAzB;AACA,QAAMC,mBAAmB,GAAG;AAACC,IAAAA,MAAM,EAAE,EAAT;AAAaC,IAAAA,YAAY,EAAE;AAA3B,GAA5B;AACA,QAAM;AAACC,IAAAA,WAAD;AAAcC,IAAAA,gBAAd;AAAgCC,IAAAA;AAAhC,MAAuDR,KAA7D;AACA,QAAM,CAACE,SAAD,EAAYO,YAAZ,IAA4Bd,QAAQ,CAACM,gBAAD,CAA1C;AACA,QAAM,CAACS,kBAAD,EAAqBC,qBAArB,IAA8ChB,QAAQ,CAACQ,mBAAD,CAA5D;AAEEP,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMgB,GAAG,GAAI,sCAAb;;AACA,QAAIL,gBAAgB,KAAK,IAAzB,EAA+B;AAC7BM,MAAAA,KAAK,CAACD,GAAD,CAAL,CACGE,IADH,CACSC,QAAD,IAAc;AAAE,eAAOA,QAAQ,CAACC,IAAT,EAAP;AAAyB,OADjD,EAEGF,IAFH,CAESG,IAAD,IAAU;AACdR,QAAAA,YAAY,CAACQ,IAAD,CAAZ;AACAN,QAAAA,qBAAqB,CAAC;AAACP,UAAAA,MAAM,EAAE,EAAT;AAAaC,UAAAA,YAAY,EAAE;AAA3B,SAAD,CAArB;AACD,OALH;AAMD;AACF,GAVQ,EAUN,CAACE,gBAAD,EAAmBD,WAAnB,CAVM,CAAT;AAYAV,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMgB,GAAG,GAAI,kDAAiDL,gBAAiB,EAA/E;;AACA,QAAIA,gBAAgB,KAAK,IAAzB,EAA+B;AAC7BM,MAAAA,KAAK,CAACD,GAAD,CAAL,CACCE,IADD,CACOC,QAAD,IAAc;AAAE,eAAOA,QAAQ,CAACC,IAAT,EAAP;AAAyB,OAD/C,EAECF,IAFD,CAEOG,IAAD,IAAU;AACdN,QAAAA,qBAAqB,CAACM,IAAD,CAArB;AACD,OAJD;AAKD;AACF,GATQ,EASN,CAACV,gBAAD,EAAmBD,WAAnB,CATM,CAAT;AAWF,SAAOC,gBAAgB,KAAK,IAArB,gBACH,QAAC,UAAD;AACI,IAAA,QAAQ,EAAEL,SADd;AAEI,IAAA,WAAW,EAAEI,WAFjB;AAGI,IAAA,mBAAmB,EAAEE;AAHzB;AAAA;AAAA;AAAA;AAAA,UADG,gBAOP,QAAC,YAAD;AACI,IAAA,QAAQ,EAAEE,kBADd;AAEI,IAAA,WAAW,EAAEJ,WAFjB;AAGI,IAAA,mBAAmB,EAAEE;AAHzB;AAAA;AAAA;AAAA;AAAA,UAPA;AAaH;;GA3CuBT,iB;;KAAAA,iB","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Collection from './Collection';\nimport WatchDetails from './WatchDetails'\n\nexport default function CollectionWrapper(props) {\n    const initialWatchList = {watchList: []};\n    const initialWatchDetails = {photos: [], observations: []}\n    const {setDateWorn, requestedWatchId, setRequestedWatchId} = props;\n    const [watchList, setWatchList] = useState(initialWatchList);\n    const [activeWatchDetails, setActiveWatchDetails] = useState(initialWatchDetails);\n\n      useEffect(() => {\n        const url = `/collection/phpsrc/getCollection.php`;\n        if (requestedWatchId === null) {\n          fetch(url)\n            .then((response) => { return response.json(); })\n            .then((data) => { \n              setWatchList(data);\n              setActiveWatchDetails({photos: [], observations: []});\n            })\n        }\n      }, [requestedWatchId, setDateWorn]);\n  \n      useEffect(() => {\n        const url = `/collection/phpsrc/getWatchDetails.php?watchId=${requestedWatchId}`;\n        if (requestedWatchId !== null) {\n          fetch(url)\n          .then((response) => { return response.json(); })\n          .then((data) => { \n            setActiveWatchDetails(data); \n          })\n        }\n      }, [requestedWatchId, setDateWorn]);\n\n    return requestedWatchId === null ? (\n        <Collection \n            response={watchList} \n            setDateWorn={setDateWorn} \n            setRequestedWatchId={setRequestedWatchId}\n        />\n    ) : (\n    <WatchDetails \n        response={activeWatchDetails} \n        setDateWorn={setDateWorn} \n        setRequestedWatchId={setRequestedWatchId}\n    />\n    )\n}"]},"metadata":{},"sourceType":"module"}