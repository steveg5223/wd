{"ast":null,"code":"import _slicedToArray from\"/Library/WebServer/Documents/wd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Collection from'./Collection';import WatchDetails from'./WatchDetails';import{jsx as _jsx}from\"react/jsx-runtime\";export default function CollectionWrapper(props){var initialWatchList={watchList:[]};var initialWatchDetails={photos:[],observations:[]};var setDateWorn=props.setDateWorn,requestedWatchId=props.requestedWatchId,setRequestedWatchId=props.setRequestedWatchId;var _useState=useState(initialWatchList),_useState2=_slicedToArray(_useState,2),watchList=_useState2[0],setWatchList=_useState2[1];var _useState3=useState(initialWatchDetails),_useState4=_slicedToArray(_useState3,2),activeWatchDetails=_useState4[0],setActiveWatchDetails=_useState4[1];useEffect(function(){var url=\"/collection/phpsrc/getCollection.php\";if(requestedWatchId===null){fetch(url).then(function(response){return response.json();}).then(function(data){setWatchList(data);setActiveWatchDetails({photos:[],observations:[]});});}},[requestedWatchId,setDateWorn]);useEffect(function(){var url=\"/collection/phpsrc/getWatchDetails.php?watchId=\".concat(requestedWatchId);if(requestedWatchId!==null){fetch(url).then(function(response){return response.json();}).then(function(data){setActiveWatchDetails(data);});}},[requestedWatchId,setDateWorn]);return requestedWatchId===null?/*#__PURE__*/_jsx(Collection,{response:watchList,setDateWorn:setDateWorn,setRequestedWatchId:setRequestedWatchId}):/*#__PURE__*/_jsx(WatchDetails,{response:activeWatchDetails,setDateWorn:setDateWorn,setRequestedWatchId:setRequestedWatchId});}","map":{"version":3,"sources":["/Library/WebServer/Documents/wd/src/CollectionWrapper.js"],"names":["React","useState","useEffect","Collection","WatchDetails","CollectionWrapper","props","initialWatchList","watchList","initialWatchDetails","photos","observations","setDateWorn","requestedWatchId","setRequestedWatchId","setWatchList","activeWatchDetails","setActiveWatchDetails","url","fetch","then","response","json","data"],"mappings":"sJAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,C,2CAEA,cAAe,SAASC,CAAAA,iBAAT,CAA2BC,KAA3B,CAAkC,CAC7C,GAAMC,CAAAA,gBAAgB,CAAG,CAACC,SAAS,CAAE,EAAZ,CAAzB,CACA,GAAMC,CAAAA,mBAAmB,CAAG,CAACC,MAAM,CAAE,EAAT,CAAaC,YAAY,CAAE,EAA3B,CAA5B,CACA,GAAOC,CAAAA,WAAP,CAA6DN,KAA7D,CAAOM,WAAP,CAAoBC,gBAApB,CAA6DP,KAA7D,CAAoBO,gBAApB,CAAsCC,mBAAtC,CAA6DR,KAA7D,CAAsCQ,mBAAtC,CACA,cAAkCb,QAAQ,CAACM,gBAAD,CAA1C,wCAAOC,SAAP,eAAkBO,YAAlB,eACA,eAAoDd,QAAQ,CAACQ,mBAAD,CAA5D,yCAAOO,kBAAP,eAA2BC,qBAA3B,eAEEf,SAAS,CAAC,UAAM,CACd,GAAMgB,CAAAA,GAAG,uCAAT,CACA,GAAIL,gBAAgB,GAAK,IAAzB,CAA+B,CAC7BM,KAAK,CAACD,GAAD,CAAL,CACGE,IADH,CACQ,SAACC,QAAD,CAAc,CAAE,MAAOA,CAAAA,QAAQ,CAACC,IAAT,EAAP,CAAyB,CADjD,EAEGF,IAFH,CAEQ,SAACG,IAAD,CAAU,CACdR,YAAY,CAACQ,IAAD,CAAZ,CACAN,qBAAqB,CAAC,CAACP,MAAM,CAAE,EAAT,CAAaC,YAAY,CAAE,EAA3B,CAAD,CAArB,CACD,CALH,EAMD,CACF,CAVQ,CAUN,CAACE,gBAAD,CAAmBD,WAAnB,CAVM,CAAT,CAYAV,SAAS,CAAC,UAAM,CACd,GAAMgB,CAAAA,GAAG,0DAAqDL,gBAArD,CAAT,CACA,GAAIA,gBAAgB,GAAK,IAAzB,CAA+B,CAC7BM,KAAK,CAACD,GAAD,CAAL,CACCE,IADD,CACM,SAACC,QAAD,CAAc,CAAE,MAAOA,CAAAA,QAAQ,CAACC,IAAT,EAAP,CAAyB,CAD/C,EAECF,IAFD,CAEM,SAACG,IAAD,CAAU,CACdN,qBAAqB,CAACM,IAAD,CAArB,CACD,CAJD,EAKD,CACF,CATQ,CASN,CAACV,gBAAD,CAAmBD,WAAnB,CATM,CAAT,CAWF,MAAOC,CAAAA,gBAAgB,GAAK,IAArB,cACH,KAAC,UAAD,EACI,QAAQ,CAAEL,SADd,CAEI,WAAW,CAAEI,WAFjB,CAGI,mBAAmB,CAAEE,mBAHzB,EADG,cAOP,KAAC,YAAD,EACI,QAAQ,CAAEE,kBADd,CAEI,WAAW,CAAEJ,WAFjB,CAGI,mBAAmB,CAAEE,mBAHzB,EAPA,CAaH","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Collection from './Collection';\nimport WatchDetails from './WatchDetails'\n\nexport default function CollectionWrapper(props) {\n    const initialWatchList = {watchList: []};\n    const initialWatchDetails = {photos: [], observations: []}\n    const {setDateWorn, requestedWatchId, setRequestedWatchId} = props;\n    const [watchList, setWatchList] = useState(initialWatchList);\n    const [activeWatchDetails, setActiveWatchDetails] = useState(initialWatchDetails);\n\n      useEffect(() => {\n        const url = `/collection/phpsrc/getCollection.php`;\n        if (requestedWatchId === null) {\n          fetch(url)\n            .then((response) => { return response.json(); })\n            .then((data) => { \n              setWatchList(data);\n              setActiveWatchDetails({photos: [], observations: []});\n            })\n        }\n      }, [requestedWatchId, setDateWorn]);\n  \n      useEffect(() => {\n        const url = `/collection/phpsrc/getWatchDetails.php?watchId=${requestedWatchId}`;\n        if (requestedWatchId !== null) {\n          fetch(url)\n          .then((response) => { return response.json(); })\n          .then((data) => { \n            setActiveWatchDetails(data); \n          })\n        }\n      }, [requestedWatchId, setDateWorn]);\n\n    return requestedWatchId === null ? (\n        <Collection \n            response={watchList} \n            setDateWorn={setDateWorn} \n            setRequestedWatchId={setRequestedWatchId}\n        />\n    ) : (\n    <WatchDetails \n        response={activeWatchDetails} \n        setDateWorn={setDateWorn} \n        setRequestedWatchId={setRequestedWatchId}\n    />\n    )\n}"]},"metadata":{},"sourceType":"module"}