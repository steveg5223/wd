{"ast":null,"code":"var _jsxFileName = \"/Library/WebServer/Documents/wd/src/DuJourWrapper.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport DuJour from './DuJour';\nimport WatchDetails from './WatchDetails';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function DuJourWrapper(props) {\n  _s();\n\n  const initialWatchList = {\n    watchList: []\n  };\n  const initialWatchDetails = {\n    photos: [],\n    observations: []\n  };\n  const {\n    setDateWorn,\n    requestedWatchId,\n    setRequestedWatchId,\n    updatedDate\n  } = props;\n  const [activeWatchList, setActiveWatchList] = useState(initialWatchList);\n  const [activeWatchDetails, setActiveWatchDetails] = useState(initialWatchDetails);\n  useEffect(() => {\n    const url = `/collection/phpsrc/getActive.php`;\n\n    if (requestedWatchId === null) {\n      fetch(url).then(response => {\n        return response.json();\n      }).then(data => {\n        setActiveWatchList(data);\n        setActiveWatchDetails({\n          photos: [],\n          observations: []\n        });\n      });\n    }\n  }, [requestedWatchId, updatedDate]);\n  useEffect(() => {\n    const url = `/collection/phpsrc/getWatchDetails.php?watchId=${requestedWatchId}`;\n\n    if (requestedWatchId !== null) {\n      fetch(url).then(response => {\n        return response.json();\n      }).then(data => {\n        setActiveWatchDetails(data);\n      });\n    }\n  }, [requestedWatchId, updatedDate]);\n  return requestedWatchId === null ? /*#__PURE__*/_jsxDEV(DuJour, {\n    response: activeWatchList,\n    setDateWorn: setDateWorn,\n    setRequestedWatchId: setRequestedWatchId\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 7\n  }, this) : /*#__PURE__*/_jsxDEV(WatchDetails, {\n    response: activeWatchDetails,\n    setDateWorn: setDateWorn,\n    setRequestedWatchId: setRequestedWatchId\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 7\n  }, this);\n}\n\n_s(DuJourWrapper, \"KxVmhXNyzHd3zdPEK4luUnIapPg=\");\n\n_c = DuJourWrapper;\n\nvar _c;\n\n$RefreshReg$(_c, \"DuJourWrapper\");","map":{"version":3,"sources":["/Library/WebServer/Documents/wd/src/DuJourWrapper.js"],"names":["React","useState","useEffect","DuJour","WatchDetails","DuJourWrapper","props","initialWatchList","watchList","initialWatchDetails","photos","observations","setDateWorn","requestedWatchId","setRequestedWatchId","updatedDate","activeWatchList","setActiveWatchList","activeWatchDetails","setActiveWatchDetails","url","fetch","then","response","json","data"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;;AAEA,eAAe,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;AAAA;;AACzC,QAAMC,gBAAgB,GAAG;AAACC,IAAAA,SAAS,EAAE;AAAZ,GAAzB;AACA,QAAMC,mBAAmB,GAAG;AAACC,IAAAA,MAAM,EAAE,EAAT;AAAaC,IAAAA,YAAY,EAAE;AAA3B,GAA5B;AACA,QAAM;AAACC,IAAAA,WAAD;AAAcC,IAAAA,gBAAd;AAAgCC,IAAAA,mBAAhC;AAAqDC,IAAAA;AAArD,MAAoET,KAA1E;AACA,QAAM,CAACU,eAAD,EAAkBC,kBAAlB,IAAwChB,QAAQ,CAACM,gBAAD,CAAtD;AACA,QAAM,CAACW,kBAAD,EAAqBC,qBAArB,IAA8ClB,QAAQ,CAACQ,mBAAD,CAA5D;AAEAP,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMkB,GAAG,GAAI,kCAAb;;AACA,QAAIP,gBAAgB,KAAK,IAAzB,EAA+B;AAC7BQ,MAAAA,KAAK,CAACD,GAAD,CAAL,CACGE,IADH,CACSC,QAAD,IAAc;AAAE,eAAOA,QAAQ,CAACC,IAAT,EAAP;AAAyB,OADjD,EAEGF,IAFH,CAESG,IAAD,IAAU;AACdR,QAAAA,kBAAkB,CAACQ,IAAD,CAAlB;AACAN,QAAAA,qBAAqB,CAAC;AAACT,UAAAA,MAAM,EAAE,EAAT;AAAaC,UAAAA,YAAY,EAAE;AAA3B,SAAD,CAArB;AACD,OALH;AAMD;AACF,GAVQ,EAUN,CAACE,gBAAD,EAAmBE,WAAnB,CAVM,CAAT;AAYAb,EAAAA,SAAS,CAAE,MAAM;AACf,UAAMkB,GAAG,GAAI,kDAAiDP,gBAAiB,EAA/E;;AACA,QAAIA,gBAAgB,KAAK,IAAzB,EAA+B;AAC7BQ,MAAAA,KAAK,CAACD,GAAD,CAAL,CACCE,IADD,CACOC,QAAD,IAAc;AAAE,eAAOA,QAAQ,CAACC,IAAT,EAAP;AAAyB,OAD/C,EAECF,IAFD,CAEOG,IAAD,IAAU;AACdN,QAAAA,qBAAqB,CAACM,IAAD,CAArB;AACD,OAJD;AAKD;AACF,GATQ,EASN,CAACZ,gBAAD,EAAmBE,WAAnB,CATM,CAAT;AAWA,SAAOF,gBAAgB,KAAK,IAArB,gBACL,QAAC,MAAD;AACA,IAAA,QAAQ,EAAEG,eADV;AAEA,IAAA,WAAW,EAAEJ,WAFb;AAGA,IAAA,mBAAmB,EAAEE;AAHrB;AAAA;AAAA;AAAA;AAAA,UADK,gBAOL,QAAC,YAAD;AACA,IAAA,QAAQ,EAAEI,kBADV;AAEA,IAAA,WAAW,EAAEN,WAFb;AAGA,IAAA,mBAAmB,EAAEE;AAHrB;AAAA;AAAA;AAAA;AAAA,UAPF;AAaH;;GA3CuBT,a;;KAAAA,a","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport DuJour from './DuJour';\nimport WatchDetails from './WatchDetails'\n\nexport default function DuJourWrapper(props) {\n    const initialWatchList = {watchList: []};\n    const initialWatchDetails = {photos: [], observations: []}\n    const {setDateWorn, requestedWatchId, setRequestedWatchId, updatedDate} = props;\n    const [activeWatchList, setActiveWatchList] = useState(initialWatchList);\n    const [activeWatchDetails, setActiveWatchDetails] = useState(initialWatchDetails);\n\n    useEffect(() => {\n      const url = `/collection/phpsrc/getActive.php`;\n      if (requestedWatchId === null) {\n        fetch(url)\n          .then((response) => { return response.json(); })\n          .then((data) => {\n            setActiveWatchList(data);\n            setActiveWatchDetails({photos: [], observations: []});\n          })\n      }\n    }, [requestedWatchId, updatedDate]);\n\n    useEffect( () => {\n      const url = `/collection/phpsrc/getWatchDetails.php?watchId=${requestedWatchId}`;\n      if (requestedWatchId !== null) {\n        fetch(url)\n        .then((response) => { return response.json(); })\n        .then((data) => {\n          setActiveWatchDetails(data);\n        })\n      }\n    }, [requestedWatchId, updatedDate]);\n\n    return requestedWatchId === null ? (\n      <DuJour \n      response={activeWatchList} \n      setDateWorn={setDateWorn} \n      setRequestedWatchId={setRequestedWatchId}\n      />\n    ) : (\n      <WatchDetails \n      response={activeWatchDetails} \n      setDateWorn={setDateWorn} \n      setRequestedWatchId={setRequestedWatchId}\n      />\n    )\n}"]},"metadata":{},"sourceType":"module"}